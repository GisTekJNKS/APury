<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US"><head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <meta content="_csrf" name="csrf-param" />
    <meta content="Ym5rMS5aaUQNPhoEGwkiPVMkOGhHDyUnPS89CWYTEwIKOiFoXDgtBQ==" name="csrf-token" />
    <title>Create object type</title>
    <link href="/files/uploads/%D0%B0%D0%BD%D0%B3%D0%BB%D0%B8%D0%B9%D1%81%D0%BA%D0%B8%D0%B9%20%D1%8F%D0%B7%D1%8B%D0%BA.jpg" type="image/png" rel="icon" />
    <link rel="stylesheet" href="/sass/scheme-blue.css" />
<link rel="stylesheet" href="/assets/d37d2a36/css/bootstrap.css" />
<link rel="stylesheet" href="/sass/site.css" />
<link rel="stylesheet" href="/vendor/select/css/bootstrap-select.min.css" />
<script src="/assets/86a3f74b/jquery.js"></script>
<script src="/assets/d37d2a36/js/bootstrap.js"></script>
<script src="/vendor/select/js/bootstrap-select.min.js"></script>
<script src="/js/object-editor.js"></script>    </head>
<body class="">

    <header>
    <nav class="navbar navbar-default">
<div class="container-fluid">
    <div class="navbar-header">
        <button data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" class="navbar-toggle collapsed" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a href="/framework" class="navbar-brand">Skyportal</a>
    </div>

    <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
                                                <li><a href="/backup">Backup</a></li>
                                    </ul>
        <ul class="nav navbar-nav navbar-right">
            <li class="dropdown">
                <a aria-expanded="false" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#">
                    My apps<span class="caret"></span></a>
                <ul role="menu" class="dropdown-menu">
                                                                        <li><a href="/backup">Backup</a></li>
                                                            </ul>
            </li>
            <li class="dropdown">
                <a aria-expanded="false" id="dropdownMenu1" role="button" data-toggle="dropdown" class="dropdown-toggle" href="#">
                    Settings<span class="caret"></span></a>
                <ul aria-labelledby="dropdownMenu2" class="dropdown-menu">
                                                                                                                                    <li><a href="/settings/profile">My profile</a></li>
                                                                                                                <li class="dropdown">
                                    <a aria-expanded="false" id="dropdownMenu2" data-toggle="dropdown" class="dropdown-toggle" href="#">
                                        Create                                        <span class="caret"></span>
                                    </a>
                                    <ul aria-labelledby="dropdownMenu2" class="dropdown-menu dropdown-menu-left">
                                                                                    <li><a href="/settings/create?entity=1">User</a></li>
                                                                                    <li><a href="/settings/create?entity=38">AUTOTEST1632</a></li>
                                                                                    <li><a href="/settings/create?entity=45">AUTOTEST5670</a></li>
                                                                                    <li><a href="/settings/create?entity=46">Country</a></li>
                                                                                    <li><a href="/settings/create?entity=47">AUTOTEST4548</a></li>
                                                                                    <li><a href="/settings/create?entity=48">AUTOTEST2461</a></li>
                                                                                    <li><a href="/settings/create?entity=49">AUTOTEST7160</a></li>
                                                                            </ul>
                                </li>
                                                                                                                                            <li class="dropdown">
                                    <a aria-expanded="false" id="dropdownMenu2" data-toggle="dropdown" class="dropdown-toggle" href="#">
                                        Edit                                        <span class="caret"></span>
                                    </a>
                                    <ul aria-labelledby="dropdownMenu2" class="dropdown-menu dropdown-menu-left">
                                                                                    <li><a href="/settings/edit?entity=1">User</a></li>
                                                                                    <li><a href="/settings/edit?entity=38">AUTOTEST1632</a></li>
                                                                                    <li><a href="/settings/edit?entity=45">AUTOTEST5670</a></li>
                                                                                    <li><a href="/settings/edit?entity=46">Country</a></li>
                                                                                    <li><a href="/settings/edit?entity=47">AUTOTEST4548</a></li>
                                                                                    <li><a href="/settings/edit?entity=48">AUTOTEST2461</a></li>
                                                                                    <li><a href="/settings/edit?entity=49">AUTOTEST7160</a></li>
                                                                            </ul>
                                </li>
                                                                                                                                                                        <li><a href="/settings/object-list">Object editor</a></li>
                                                                                                                                            <li><a href="/settings/permissions">Permissions</a></li>
                                                                                                                                            <li><a href="/settings/promoted-apps">Promoted apps</a></li>
                                                                                                                                            <li><a href="/settings/info-popup">Informational popup</a></li>
                                                                                                                                            <li><a href="/settings/info-content">Informational content</a></li>
                                                                                                                                            <li><a href="/settings/change-log">Changes log</a></li>
                                                                                                                                            <li><a href="/settings/global-settings">Global settings</a></li>
                                                                                                                                            <li><a href="/site/logout">Log out</a></li>
                                                                                        </ul>
            </li>
        </ul>
    </div>
</div>

    </nav>
    <div class="heading">
        <h1>Settings for System administrator</h1>

        <h2>Create object type</h2>
        <hr />
    </div>
</header>
<div class="wrapper">
    <div class="content object-editor-block">
        <div>
            <form method="post" action="/settings/object-list/create" class="form-horizontal" id="objects-list-form">
<input type="hidden" value="Ym5rMS5aaUQNPhoEGwkiPVMkOGhHDyUnPS89CWYTEwIKOiFoXDgtBQ==" name="_csrf" /><div style="width: 60%;"><div style="display:none" class="error-summary"><p>Please fix the following errors:</p><ul></ul></div></div>            <fieldset>
                <div class="form-group field-objectslistform-entity_name required has-success">
<label for="objectslistform-entity_name" class="control-label col-lg-1 control-label">Name</label>
<div class="col-lg-5">
<input type="text" name="ObjectsListForm[entity_name]" class="form-control" id="objectslistform-entity_name" />
<div class="help-block help-block-error "></div>
</div>

</div>                <div class="form-group field-objectslistform-machine_name required has-success">
<label for="objectslistform-machine_name" class="control-label col-lg-1 control-label">Machine Name</label>
<div class="col-lg-5">
<input type="text" name="ObjectsListForm[machine_name]" class="form-control" id="objectslistform-machine_name" />
<div class="help-block help-block-error "></div>
</div>

</div>            </fieldset>
            <div id="hidden-input-container"></div>
            </form>
            <div class="object-fields">
                <div class="form-group">
                    <label class="control-label">Fields editor:</label>
                    <table class="table table-bordered object-fields-table" id="table-object-list">
                        <thead><tr>
                                <th></th>
                                <th>Caption</th>
                                <th>Type</th>
                                <th>Constraints</th>
                                <th>Validation</th>
                                <th>Buttons</th>
                            </tr></thead>
                        <tbody>
                                                    <tr><td>V1</td><td>Integer</td><td>integer</td><td></td><td>{"0":{"type":"number","options":{"max":"1000","min":"0"}}}</td><td style="display: none"></td><td><a href="#" data-target="#addObject" data-toggle="modal" class="btn btn-primary btn-xs edit-btn"><span class="glyphicon glyphicon-pencil"></span></a><a style="margin-left: 5px" href="#" class="btn btn-danger btn-xs remove-btn"><span class="glyphicon glyphicon-remove"></span></a></td></tr></tbody>
                    </table>
                    <span data-original-title="Add object field" title="" data-target="#addObject" data-toggle="modal" class="glyphicon glyphicon-plus add-obj with-tooltip" aria-describedby="tooltip686086"></span><div role="tooltip" class="tooltip fade top in" id="tooltip686086" style="top: 445.967px; left: 0px; display: block;"><div class="tooltip-arrow" style="left: 37.3737%;"></div><div class="tooltip-inner">Add object field</div></div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div style="text-align: center; margin-top: 30px;" class="form-group">
                <a class="btn btn-primary" id="submit-object-form">Create</a>
                <a class="btn btn-danger" href="/settings/object-list/index">Cancel</a>
            </div>

        </div>
    </div>
</div>
<div class="footer">© Purity IT AS 2015</div>

<div aria-labelledby="addObjectLabel" role="dialog" tabindex="-1" id="addObject" class="modal fade" style="display: none;">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div url="/settings/object-list/form-field" id="pjax-widget">
<!--form-->
<form data-toggle="validator" data-pjax="" method="post" action="/settings/object-list/ajax-add-field" class="form-horizontal" id="fields-editor-form">
<input type="hidden" value="bHBHYm5HOE0DIDZXWxRzNF06FDsHEnQuMzERWiYOQgsEJA07HCV8DA==" name="_csrf" /><fieldset>
    <div class="form-group field-fieldsform-caption required">
<label for="fieldsform-caption" class="control-label col-lg-4 control-label">Field name</label>
<div class="col-lg-5">
<input type="text" placeholder="New Field" value="Integer" name="FieldsForm[caption]" class="form-control" id="fieldsform-caption" />
<div class="help-block help-block-error "></div>
</div>

</div>    <div class="form-group field-fieldsform-obj_type required">
<label for="fieldsform-obj_type" class="control-label col-lg-4 control-label">Type</label>
<div class="col-lg-5">
<select placeholder="New field" name="FieldsForm[obj_type]" class="form-control" id="fieldsform-obj_type">
<option value="choose">Choose</option>
<option selected="selected" value="Integer">Number (Integer)</option>
<option value="String">Text</option>
<option value="Boolean">Yes or No</option>
<option value="Password">Password</option>
<option value="Email">Email</option>
<option value="Date">Date</option>
<option value="DateTime">Date and Time</option>
<option value="Float">Price</option>
</select>
<div class="help-block help-block-error "></div>
</div>

</div>    <div class="form-group select-constraints" id="constrains-container">
    </div>
</fieldset>
</form>




<script type="text/javascript">jQuery('#fields-editor-form').yiiActiveForm([{"id":"fieldsform-caption","name":"caption","container":".field-fieldsform-caption","input":"#fieldsform-caption","error":".help-block.help-block-error","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Field name cannot be blank."});yii.validation.string(value, messages, {"message":"Field name must be a string.","skipOnEmpty":1});yii.validation.regularExpression(value, messages, {"pattern":/^[A-Za-z0-9_]+$/,"not":false,"message":"Caption can only contain alphanumeric characters, underscores and digits.","skipOnEmpty":1});}},{"id":"fieldsform-obj_type","name":"obj_type","container":".field-fieldsform-obj_type","input":"#fieldsform-obj_type","error":".help-block.help-block-error","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Type cannot be blank."});yii.validation.string(value, messages, {"message":"Type must be a string.","skipOnEmpty":1});yii.validation.regularExpression(value, messages, {"pattern":/^(Integer|String|Boolean|Date|Time|DateTime|Float|Password|Email)$/,"not":false,"message":"Choose field type.","skipOnEmpty":1});}}], []);</script></div>                <input type="hidden" value="/settings/object-list/form-field" name="pajax-hidden" id="pajax-hidden" />            </div>
            <div class="modal-footer">
                <button class="btn btn-primary add-btn" type="button">Add</button>
                <button data-dismiss="modal" class="btn btn-danger cansel-btn" type="button">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div data-flag="0" role="dialog" tabindex="-1" id="restoreObjectType" class="modal fade">
    <div class="modal-dialog">
        <div style="width: 350px;" class="modal-content">
            <div class="modal-body">
                The object type "1" is exists, but marked as deleted! What do you want to do?
            </div>
            <div class="modal-footer">
                <button data-id="0" data-href="/settings/object-list/fully-delete" class="btn btn-danger btn-delete-entity-type" type="button">Delete</button>
                <button data-id="0" data-href="/settings/object-list/restore" class="btn btn-success btn-restore-entity-type" type="button">Restore</button>
                <button data-dismiss="modal" class="btn btn-default cansel-btn" type="button">Cancel</button>
            </div>
        </div>
    </div>
</div>

<script>
$('#submit-object-form').click(function(){
    $('#objects-list-form').submit();
});
$('#objects-list-form').submit(function(){
    $('#hidden-input-container').empty();
    $('#table-object-list tbody tr').each(function(index, elem){
        var caption = $(this).find('td:first').next().text();
        var type = $(this).find('td:first').next().next().text();
        var constrains = $(this).find('td:first').next().next().next().text();
        var validation = $(this).find('td:first').next().next().next().next().text();
        var kind = $(this).find('td:first').next().next().next().next().next().text();
        
        

        var data = prepeareTableData(caption, type, constrains, validation, kind);
        
        $("&lt;input type=\"hidden\" name=\"ObjectsListForm[v"+ (index + 1) +"_data]\"&gt;").appendTo('#hidden-input-container').val(JSON.stringify(data));
    });

    return true;
});


</script>
<style>
.error-summary {
    color: #a94442;
    background: #fdf7f7;
    border-left: 3px solid #eed3d7;
    padding: 10px 20px;
    margin: 0 0 15px 0;
}
</style>

<script src="/assets/67b57e4b/yii.js"></script>
<script src="/assets/67b57e4b/yii.validation.js"></script>
<script src="/assets/67b57e4b/yii.activeForm.js"></script>
<script src="/assets/62a2f58e/jquery.pjax.js"></script>
<script type="text/javascript">jQuery(document).ready(function () {
jQuery('#objects-list-form').yiiActiveForm([{"id":"objectslistform-entity_name","name":"entity_name","container":".field-objectslistform-entity_name","input":"#objectslistform-entity_name","error":".help-block.help-block-error","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Name cannot be blank."});yii.validation.string(value, messages, {"message":"Name must be a string.","skipOnEmpty":1});}},{"id":"objectslistform-machine_name","name":"machine_name","container":".field-objectslistform-machine_name","input":"#objectslistform-machine_name","error":".help-block.help-block-error","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Machine Name cannot be blank."});yii.validation.string(value, messages, {"message":"Machine Name must be a string.","skipOnEmpty":1});}}], []);
jQuery('#fields-editor-form').yiiActiveForm([{"id":"fieldsform-caption","name":"caption","container":".field-fieldsform-caption","input":"#fieldsform-caption","error":".help-block.help-block-error","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Field name cannot be blank."});yii.validation.string(value, messages, {"message":"Field name must be a string.","skipOnEmpty":1});yii.validation.regularExpression(value, messages, {"pattern":/^[A-Za-z0-9_]+$/,"not":false,"message":"Caption can only contain alphanumeric characters, underscores and digits.","skipOnEmpty":1});}},{"id":"fieldsform-obj_type","name":"obj_type","container":".field-fieldsform-obj_type","input":"#fieldsform-obj_type","error":".help-block.help-block-error","validate":function (attribute, value, messages, deferred, $form) {yii.validation.required(value, messages, {"message":"Type cannot be blank."});yii.validation.string(value, messages, {"message":"Type must be a string.","skipOnEmpty":1});yii.validation.regularExpression(value, messages, {"pattern":/^(Integer|String|Boolean|Date|Time|DateTime|Float|Password|Email)$/,"not":false,"message":"Choose field type.","skipOnEmpty":1});}}], []);
jQuery(document).pjax("#pjax-widget a", "#pjax-widget", {"push":false,"replace":false,"timeout":1000,"scrollTo":false});
jQuery(document).on('submit', "#pjax-widget form[data-pjax]", function (event) {jQuery.pjax.submit(event, '#pjax-widget', {"push":false,"replace":false,"timeout":1000,"scrollTo":false});});
});</script>

</body></html>